{% extends "common/sidebar.html" %}

{% block title %}Recent Sub-Plugins for {{ plugin.name }}{% endblock title %}

{% block content %}

<body>
    <div class="container">
        {% if paths %}
            {% if sub_plugin_list %}
                <h1>Recent Sub-Plugins for {{ plugin.name }}</h1>
                <ul>
                    {% for sub_plugin in sub_plugin_list %}
                        <li><a href="{{ sub_plugin.get_absolute_url }}">{{ sub_plugin }}</a></li>
                    {% endfor %}
                </ul>
            {% else %}
                <h1>No sub-plugins are registered for {{ plugin.name }}.</h1>
            {% endif %}
            <a href="{% url 'plugins:sub_plugins:create' slug=plugin.slug %}">Create Sub-Plugin?</a>
            {% if has_other_pages %}
                <br />
                {% if previous_page %}
                    <a href="{% url 'plugins:sub_plugins:list' slug=plugin.slug %}?page={{ previous_page }}">prev</a>
                {% endif %}
                {% if current_page != 1 %}
                    <a href="{% url 'plugins:sub_plugins:list' slug=plugin.slug %}?page=1">1</a>
                {% endif %}
                {% if current_page != total_pages %}
                    <a href="{% url 'plugins:sub_plugins:list' slug=plugin.slug %}?page={{ total_pages }}">{{ total_pages }}</a>
                {% endif %}
                {% if next_page %}
                    <a href="{% url 'plugins:sub_plugins:list' slug=plugin.slug %}?page={{ next_page }}">next</a>
                {% endif %}
            {% endif %}
        {% else %}
            <h1>{{ plugin.name }} does not support sub-plugins.</h1>
        {% endif %}
    </div>
</body>

{% endblock content %}
